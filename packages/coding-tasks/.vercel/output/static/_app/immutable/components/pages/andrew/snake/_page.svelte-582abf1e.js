import{S as q,i as B,s as G,k as v,q as T,a as V,l as m,m as _,r as $,h as p,c as z,n as S,b as F,G as g,B as k,o as O}from"../../../../chunks/index-1664d19c.js";const U=()=>{const c=document.getElementById("canvas"),t=c.getContext("2d"),s=400,l=400;c.width=s,c.height=l;let f=7,r=20,n=c.width/r,a=["right"],u=10,o=new Array(u).fill(1).map((e,i)=>({x:(u-i)*n,y:n})),d=w();document.addEventListener("keydown",D);function H(){t.beginPath(),t.fillStyle="black",t.fillRect(0,0,s,l),t.closePath()}function P(){o.length%5===0&&(f++,clearInterval(x),x=setInterval(C,1e3/f))}function E(){for(const e of o)A(e);A(o[0],"orange")}function A(e,i="green"){t.beginPath(),t.fillStyle=i,t.fillRect(e.x,e.y,n,n),t.rect(e.x,e.y,n,n),t.stroke(),t.closePath()}function b(){t.beginPath(),t.fillStyle="red",t.fillRect(d.x,d.y,n,n),t.closePath()}function I(e){return Math.floor(Math.random()*e)*e}function w(){const e={x:I(n),y:I(n)};return y(e,o)?w():e}function R(){y(d,o)&&(o.unshift(d),d=w(),P())}function D(e){if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.code)){const i=e.code.toLowerCase().replace("arrow","");a.push(L(i,a[0]))}}function L(e,i){return i!=={up:"down",down:"up",left:"right",right:"left"}[e]?e:i}function M(){o.pop();const e=N();y(e,o)&&clearInterval(x),o.unshift(e)}function N(){const e={x:o[0].x,y:o[0].y},i=a[a.length-1];return i==="right"&&(e.x+=n),i==="left"&&(e.x-=n),i==="down"&&(e.y+=n),i==="up"&&(e.y-=n),a=[i],e.x>s-n&&(e.x=0),e.y>l-n&&(e.y=0),e.x<0&&(e.x=s-n),e.y<0&&(e.y=l-n),e}function y(e,i){for(let h=0;h<i.length;h++)if(e.x===i[h].x&&e.y===i[h].y)return!0;return!1}function C(){H(),M(),R(),E(),b()}let x=setInterval(C,1e3/f)};function W(c){let t,s,l,f,r;return{c(){t=v("div"),s=v("h1"),l=T("Snake"),f=V(),r=v("canvas"),this.h()},l(n){t=m(n,"DIV",{class:!0});var a=_(t);s=m(a,"H1",{});var u=_(s);l=$(u,"Snake"),u.forEach(p),f=z(a),r=m(a,"CANVAS",{id:!0,class:!0}),_(r).forEach(p),a.forEach(p),this.h()},h(){S(r,"id","canvas"),S(r,"class","svelte-15i53nf"),S(t,"class","svelte-15i53nf")},m(n,a){F(n,t,a),g(t,s),g(s,l),g(t,f),g(t,r)},p:k,i:k,o:k,d(n){n&&p(t)}}}function j(c){return O(U),[]}class K extends q{constructor(t){super(),B(this,t,j,W,G,{})}}export{K as default};
